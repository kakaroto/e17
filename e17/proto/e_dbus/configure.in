AC_PREREQ(2.59)
AC_INIT(configure.in)
AC_CANONICAL_BUILD
AC_CANONICAL_HOST
AM_INIT_AUTOMAKE(e_dbus, 0.1.0.003)

AC_PROG_CC
AM_ENABLE_SHARED
AM_PROG_LIBTOOL

AC_HEADER_STDC

AC_CONFIG_HEADERS(config.h)

PKG_CHECK_MODULES([EDBUS], [
  dbus-1 >= 0.62
  ecore >= 0.9.9
])

PKG_CHECK_MODULES([HAL_TEST_GUI], [
  ewl
  efreet
],
# temporarily disable until update to newer tree2 api
[AC_DEFINE([EWL_GUI], 0, [An ewl gui for e_dbus_hal])],
[AC_DEFINE([EWL_GUI], 0, [An ewl gui for e_dbus_hal])]
)

AC_OUTPUT([
Makefile
src/Makefile
src/lib/Makefile
src/lib/dbus/Makefile
src/lib/hal/Makefile
src/lib/nm/Makefile
src/lib/notification/Makefile
src/bin/Makefile
edbus.pc
ehal.pc
debian/changelog
])
